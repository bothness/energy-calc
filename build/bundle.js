var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function s(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function u(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function c(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function d(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function g(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function m(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function y(t,n){t.value=null==n?"":n}function v(t,n,e,r){null===e?t.style.removeProperty(n):t.style.setProperty(n,e,r?"important":"")}class b{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,e=null){this.e||(this.is_svg?this.e=h(n.nodeName):this.e=c(n.nodeName),this.t=n,this.c(t)),this.i(e)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)a(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(l)}}let x;function $(t){x=t}function M(){if(!x)throw new Error("Function called outside component initialization");return x}function w(t){M().$$.on_mount.push(t)}function _(){const t=M();return(n,e,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[n];if(i){const o=function(t,n,{bubbles:e=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e,r,n),i}(n,e,{cancelable:r});return i.slice().forEach((n=>{n.call(t,o)})),!o.defaultPrevented}return!0}}const N=[],k=[],A=[],L=[],E=Promise.resolve();let S=!1;function T(t){A.push(t)}function C(t){L.push(t)}const H=new Set;let q=0;function R(){const t=x;do{for(;q<N.length;){const t=N[q];q++,$(t),j(t.$$)}for($(null),N.length=0,q=0;k.length;)k.pop()();for(let t=0;t<A.length;t+=1){const n=A[t];H.has(n)||(H.add(n),n())}A.length=0}while(N.length);for(;L.length;)L.pop()();S=!1,H.clear(),$(t)}function j(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(T)}}const P=new Set;let z;function I(t,n){t&&t.i&&(P.delete(t),t.i(n))}function O(t,n,e,r){if(t&&t.o){if(P.has(t))return;P.add(t),z.c.push((()=>{P.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}else r&&r()}function B(t,n,e){const r=t.$$.props[n];void 0!==r&&(t.$$.bound[r]=e,e(t.$$.ctx[r]))}function F(t){t&&t.c()}function V(t,e,o,s){const{fragment:a,on_mount:l,on_destroy:u,after_update:c}=t.$$;a&&a.m(e,o),s||T((()=>{const e=l.map(n).filter(i);u?u.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(T)}function D(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Z(t,n){-1===t.$$.dirty[0]&&(N.push(t),S||(S=!0,E.then(R)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function G(n,i,o,s,a,u,c,h=[-1]){const f=x;$(n);const p=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:a,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:e(),dirty:h,skip_bound:!1,root:i.target||f.$$.root};c&&c(p.root);let d=!1;if(p.ctx=o?o(n,i.props||{},((t,e,...r)=>{const i=r.length?r[0]:e;return p.ctx&&a(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),d&&Z(n,t)),e})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(l)}else p.fragment&&p.fragment.c();i.intro&&I(n.$$.fragment),V(n,i.target,i.anchor,i.customElement),R()}$(f)}class X{$destroy(){D(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Q(t,n){return null==t||null==n?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function U(t){let n,e,r;function i(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length?(n=Y,e=(n,e)=>Y(t(n),e),r=(n,e)=>t(n)-e):(n=t===Y||t===Q?t:W,e=t,r=t),{left:i,center:function(t,n,e=0,o=t.length){const s=i(t,n,e,o-1);return s>e&&r(t[s-1],n)>-r(t[s],n)?s-1:s},right:function(t,r,i=0,o=t.length){if(i<o){if(0!==n(r,r))return o;do{const n=i+o>>>1;e(t[n],r)<=0?i=n+1:o=n}while(i<o)}return i}}}function W(){return 0}const J=U(Y).right;U((function(t){return null===t?NaN:+t})).center;var K=J,tt=Math.sqrt(50),nt=Math.sqrt(10),et=Math.sqrt(2);function rt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=tt?10:o>=nt?5:o>=et?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=tt?10:o>=nt?5:o>=et?2:1)}function it(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function ot(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function st(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function at(){}var lt=.7,ut=1/lt,ct="\\s*([+-]?\\d+)\\s*",ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pt=/^#([0-9a-f]{3,8})$/,dt=new RegExp(`^rgb\\(${ct},${ct},${ct}\\)$`),gt=new RegExp(`^rgb\\(${ft},${ft},${ft}\\)$`),mt=new RegExp(`^rgba\\(${ct},${ct},${ct},${ht}\\)$`),yt=new RegExp(`^rgba\\(${ft},${ft},${ft},${ht}\\)$`),vt=new RegExp(`^hsl\\(${ht},${ft},${ft}\\)$`),bt=new RegExp(`^hsla\\(${ht},${ft},${ft},${ht}\\)$`),xt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $t(){return this.rgb().formatHex()}function Mt(){return this.rgb().formatRgb()}function wt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=pt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?_t(n):3===e?new Lt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Nt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Nt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=dt.exec(t))?new Lt(n[1],n[2],n[3],1):(n=gt.exec(t))?new Lt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=mt.exec(t))?Nt(n[1],n[2],n[3],n[4]):(n=yt.exec(t))?Nt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=vt.exec(t))?qt(n[1],n[2]/100,n[3]/100,1):(n=bt.exec(t))?qt(n[1],n[2]/100,n[3]/100,n[4]):xt.hasOwnProperty(t)?_t(xt[t]):"transparent"===t?new Lt(NaN,NaN,NaN,0):null}function _t(t){return new Lt(t>>16&255,t>>8&255,255&t,1)}function Nt(t,n,e,r){return r<=0&&(t=n=e=NaN),new Lt(t,n,e,r)}function kt(t){return t instanceof at||(t=wt(t)),t?new Lt((t=t.rgb()).r,t.g,t.b,t.opacity):new Lt}function At(t,n,e,r){return 1===arguments.length?kt(t):new Lt(t,n,e,null==r?1:r)}function Lt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Et(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}`}function St(){const t=Tt(this.opacity);return`${1===t?"rgb(":"rgba("}${Ct(this.r)}, ${Ct(this.g)}, ${Ct(this.b)}${1===t?")":`, ${t})`}`}function Tt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ct(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ht(t){return((t=Ct(t))<16?"0":"")+t.toString(16)}function qt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new jt(t,n,e,r)}function Rt(t){if(t instanceof jt)return new jt(t.h,t.s,t.l,t.opacity);if(t instanceof at||(t=wt(t)),!t)return new jt;if(t instanceof jt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new jt(s,a,l,t.opacity)}function jt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Pt(t){return(t=(t||0)%360)<0?t+360:t}function zt(t){return Math.max(0,Math.min(1,t||0))}function It(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}ot(at,wt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$t,formatHex:$t,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Rt(this).formatHsl()},formatRgb:Mt,toString:Mt}),ot(Lt,At,st(at,{brighter(t){return t=null==t?ut:Math.pow(ut,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?lt:Math.pow(lt,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lt(Ct(this.r),Ct(this.g),Ct(this.b),Tt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Et,formatHex:Et,formatHex8:function(){return`#${Ht(this.r)}${Ht(this.g)}${Ht(this.b)}${Ht(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:St,toString:St})),ot(jt,(function(t,n,e,r){return 1===arguments.length?Rt(t):new jt(t,n,e,null==r?1:r)}),st(at,{brighter(t){return t=null==t?ut:Math.pow(ut,t),new jt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?lt:Math.pow(lt,t),new jt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Lt(It(t>=240?t-240:t+120,i,r),It(t,i,r),It(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new jt(Pt(this.h),zt(this.s),zt(this.l),Tt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Tt(this.opacity);return`${1===t?"hsl(":"hsla("}${Pt(this.h)}, ${100*zt(this.s)}%, ${100*zt(this.l)}%${1===t?")":`, ${t})`}`}}));var Ot=t=>()=>t;function Bt(t){return 1==(t=+t)?Ft:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Ot(isNaN(n)?e:n)}}function Ft(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Ot(isNaN(t)?n:t)}var Vt=function t(n){var e=Bt(n);function r(t,n){var r=e((t=At(t)).r,(n=At(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),s=Ft(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=s(n),t+""}}return r.gamma=t,r}(1);function Dt(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function Zt(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),s=new Array(r);for(e=0;e<i;++e)o[e]=Jt(t[e],n[e]);for(;e<r;++e)s[e]=n[e];return function(t){for(e=0;e<i;++e)s[e]=o[e](t);return s}}function Gt(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function Xt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Yt(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=Jt(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var Qt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ut=new RegExp(Qt.source,"g");function Wt(t,n){var e,r,i,o=Qt.lastIndex=Ut.lastIndex=0,s=-1,a=[],l=[];for(t+="",n+="";(e=Qt.exec(t))&&(r=Ut.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(e=e[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Xt(e,r)})),o=Ut.lastIndex;return o<n.length&&(i=n.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,r=0;r<n;++r)a[(e=l[r]).i]=e.x(t);return a.join("")})}function Jt(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Ot(n):("number"===i?Xt:"string"===i?(e=wt(n))?(n=e,Vt):Wt:n instanceof wt?Vt:n instanceof Date?Gt:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?Zt:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Yt:Xt:Dt))(t,n)}function Kt(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function tn(t){return+t}var nn=[0,1];function en(t){return t}function rn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function on(t,n,e){var r=t[0],i=t[1],o=n[0],s=n[1];return i<r?(r=rn(i,r),o=e(s,o)):(r=rn(r,i),o=e(o,s)),function(t){return o(r(t))}}function sn(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++s<r;)i[s]=rn(t[s],t[s+1]),o[s]=e(n[s],n[s+1]);return function(n){var e=K(t,n,1,r)-1;return o[e](i[e](n))}}function an(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ln(){var t,n,e,r,i,o,s=nn,a=nn,l=Jt,u=en;function c(){var t,n,e,l=Math.min(s.length,a.length);return u!==en&&(t=s[0],n=s[l-1],t>n&&(e=t,t=n,n=e),u=function(e){return Math.max(t,Math.min(n,e))}),r=l>2?sn:on,i=o=null,h}function h(n){return null==n||isNaN(n=+n)?e:(i||(i=r(s.map(t),a,l)))(t(u(n)))}return h.invert=function(e){return u(n((o||(o=r(a,s.map(t),Xt)))(e)))},h.domain=function(t){return arguments.length?(s=Array.from(t,tn),c()):s.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),c()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),l=Kt,c()},h.clamp=function(t){return arguments.length?(u=!!t||en,c()):u!==en},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(e=t,h):e},function(e,r){return t=e,n=r,c()}}function un(){return ln()(en,en)}function cn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function hn(t){return(t=cn(Math.abs(t)))?t[1]:NaN}var fn,pn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dn(t){if(!(n=pn.exec(t)))throw new Error("invalid format: "+t);var n;return new gn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function gn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function mn(t,n){var e=cn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}dn.prototype=gn.prototype,gn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var yn={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>mn(100*t,n),r:mn,s:function(t,n){var e=cn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(fn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+cn(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vn(t){return t}var bn,xn,$n,Mn=Array.prototype.map,wn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _n(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?vn:(n=Mn.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],s=0,a=n[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(t.substring(i-=a,i+a)),!((l+=a+1)>r));)a=n[s=(s+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?vn:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Mn.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var n=(t=dn(t)).fill,e=t.align,h=t.sign,f=t.symbol,p=t.zero,d=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):yn[v]||(void 0===m&&(m=12),y=!0,v="g"),(p||"0"===n&&"="===e)&&(p=!0,n="0",e="=");var b="$"===f?i:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===f?o:/[%p]/.test(v)?l:"",$=yn[v],M=/[defgprs%]/.test(v);function w(t){var i,o,l,f=b,w=x;if("c"===v)w=$(t)+w,t="";else{var _=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:$(Math.abs(t),m),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),_&&0==+t&&"+"!==h&&(_=!1),f=(_?"("===h?h:u:"-"===h||"("===h?"":h)+f,w=("s"===v?wn[8+fn/3]:"")+w+(_&&"("===h?")":""),M)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){w=(46===l?s+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var N=f.length+t.length+w.length,k=N<d?new Array(d-N+1).join(n):"";switch(g&&p&&(t=r(k+t,k.length?d-w.length:1/0),k=""),e){case"<":t=f+t+w+k;break;case"=":t=f+k+t+w;break;case"^":t=k.slice(0,N=k.length>>1)+f+t+w+k.slice(N);break;default:t=k+f+t+w}return a(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),w.toString=function(){return t+""},w}return{format:h,formatPrefix:function(t,n){var e=h(((t=dn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(hn(n)/3))),i=Math.pow(10,-r),o=wn[8+r/3];return function(t){return e(i*t)+o}}}}function Nn(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=tt?i*=10:o>=nt?i*=5:o>=et&&(i*=2),n<t?-i:i}(t,n,e);switch((r=dn(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hn(n)/3)))-hn(Math.abs(t)))}(o,s))||(r.precision=i),$n(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,hn(n)-hn(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-hn(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return xn(r)}function kn(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,s,a=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(s=rt(t,n,e))||!isFinite(s))return[];if(s>0){let e=Math.round(t/s),r=Math.round(n/s);for(e*s<t&&++e,r*s>n&&--r,o=new Array(i=r-e+1);++a<i;)o[a]=(e+a)*s}else{s=-s;let e=Math.round(t*s),r=Math.round(n*s);for(e/s<t&&++e,r/s>n&&--r,o=new Array(i=r-e+1);++a<i;)o[a]=(e+a)/s}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Nn(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),s=0,a=o.length-1,l=o[s],u=o[a],c=10;for(u<l&&(i=l,l=u,u=i,i=s,s=a,a=i);c-- >0;){if((i=rt(l,u,e))===r)return o[s]=l,o[a]=u,n(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function An(){var t=un();return t.copy=function(){return an(t,An())},it.apply(t,arguments),kn(t)}bn=_n({thousands:",",grouping:[3],currency:["$",""]}),xn=bn.format,$n=bn.formatPrefix;const Ln=Math.PI,En=2*Ln,Sn=1e-6,Tn=En-Sn;function Cn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Hn(){return new Cn}function qn(t){return function(){return t}}Cn.prototype=Hn.prototype={constructor:Cn,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,s=this._y1,a=e-t,l=r-n,u=o-t,c=s-n,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(h>Sn)if(Math.abs(c*a-l*u)>Sn&&i){var f=e-o,p=r-s,d=a*a+l*l,g=f*f+p*p,m=Math.sqrt(d),y=Math.sqrt(h),v=i*Math.tan((Ln-Math.acos((d+h-g)/(2*m*y)))/2),b=v/y,x=v/m;Math.abs(b-1)>Sn&&(this._+="L"+(t+b*u)+","+(n+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>u*p)+","+(this._x1=t+x*a)+","+(this._y1=n+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var s=(e=+e)*Math.cos(r),a=e*Math.sin(r),l=t+s,u=n+a,c=1^o,h=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>Sn||Math.abs(this._y1-u)>Sn)&&(this._+="L"+l+","+u),e&&(h<0&&(h=h%En+En),h>Tn?this._+="A"+e+","+e+",0,1,"+c+","+(t-s)+","+(n-a)+"A"+e+","+e+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>Sn&&(this._+="A"+e+","+e+",0,"+ +(h>=Ln)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};const Rn=Math.abs,jn=Math.atan2,Pn=Math.cos,zn=Math.max,In=Math.min,On=Math.sin,Bn=Math.sqrt,Fn=1e-12,Vn=Math.PI,Dn=Vn/2,Zn=2*Vn;function Gn(t){return t>1?0:t<-1?Vn:Math.acos(t)}function Xn(t){return t>=1?Dn:t<=-1?-Dn:Math.asin(t)}function Yn(t){return t.innerRadius}function Qn(t){return t.outerRadius}function Un(t){return t.startAngle}function Wn(t){return t.endAngle}function Jn(t){return t&&t.padAngle}function Kn(t,n,e,r,i,o,s,a){var l=e-t,u=r-n,c=s-i,h=a-o,f=h*l-c*u;if(!(f*f<Fn))return[t+(f=(c*(n-o)-h*(t-i))/f)*l,n+f*u]}function te(t,n,e,r,i,o,s){var a=t-e,l=n-r,u=(s?o:-o)/Bn(a*a+l*l),c=u*l,h=-u*a,f=t+c,p=n+h,d=e+c,g=r+h,m=(f+d)/2,y=(p+g)/2,v=d-f,b=g-p,x=v*v+b*b,$=i-o,M=f*g-d*p,w=(b<0?-1:1)*Bn(zn(0,$*$*x-M*M)),_=(M*b-v*w)/x,N=(-M*v-b*w)/x,k=(M*b+v*w)/x,A=(-M*v+b*w)/x,L=_-m,E=N-y,S=k-m,T=A-y;return L*L+E*E>S*S+T*T&&(_=k,N=A),{cx:_,cy:N,x01:-c,y01:-h,x11:_*(i/$-1),y11:N*(i/$-1)}}function ne(n){let e,r,i,o,u,f,d,m,y,v=null!=n[0]?`${Math.round(n[0])}%`:"&#9211;";return{c(){e=c("div"),r=h("svg"),i=h("path"),o=h("path"),u=h("path"),m=p(),y=c("div"),g(i,"d","M 19 9.3 V 4 h -3 v 2.6 L 12 3 L 2 12 h 3 v 8 h 14 v -8 h 3 z"),g(o,"transform","translate(12,12)"),g(o,"d",n[2](100)),g(o,"fill","#ddd"),g(u,"transform","translate(12,12)"),g(u,"d",f=n[2](n[0])),g(r,"viewBox","-4 -4 32 32"),g(r,"fill",d=n[1](null!=n[0]?n[0]:0)),g(r,"class","svelte-rn63jy"),g(y,"class","house-text svelte-rn63jy"),g(e,"class","house svelte-rn63jy")},m(t,n){a(t,e,n),s(e,r),s(r,i),s(r,o),s(r,u),s(e,m),s(e,y),y.innerHTML=v},p(t,[n]){1&n&&f!==(f=t[2](t[0]))&&g(u,"d",f),1&n&&d!==(d=t[1](null!=t[0]?t[0]:0))&&g(r,"fill",d),1&n&&v!==(v=null!=t[0]?`${Math.round(t[0])}%`:"&#9211;")&&(y.innerHTML=v)},i:t,o:t,d(t){t&&l(e)}}}function ee(t,n,e){let{percent:r=100}=n;const i=An().domain([0,40,80,100]).range(["red","red","teal","teal"]);return t.$$set=t=>{"percent"in t&&e(0,r=t.percent)},[r,i,function(t){return function(){var t=Yn,n=Qn,e=qn(0),r=null,i=Un,o=Wn,s=Jn,a=null;function l(){var l,u,c=+t.apply(this,arguments),h=+n.apply(this,arguments),f=i.apply(this,arguments)-Dn,p=o.apply(this,arguments)-Dn,d=Rn(p-f),g=p>f;if(a||(a=l=Hn()),h<c&&(u=h,h=c,c=u),h>Fn)if(d>Zn-Fn)a.moveTo(h*Pn(f),h*On(f)),a.arc(0,0,h,f,p,!g),c>Fn&&(a.moveTo(c*Pn(p),c*On(p)),a.arc(0,0,c,p,f,g));else{var m,y,v=f,b=p,x=f,$=p,M=d,w=d,_=s.apply(this,arguments)/2,N=_>Fn&&(r?+r.apply(this,arguments):Bn(c*c+h*h)),k=In(Rn(h-c)/2,+e.apply(this,arguments)),A=k,L=k;if(N>Fn){var E=Xn(N/c*On(_)),S=Xn(N/h*On(_));(M-=2*E)>Fn?(x+=E*=g?1:-1,$-=E):(M=0,x=$=(f+p)/2),(w-=2*S)>Fn?(v+=S*=g?1:-1,b-=S):(w=0,v=b=(f+p)/2)}var T=h*Pn(v),C=h*On(v),H=c*Pn($),q=c*On($);if(k>Fn){var R,j=h*Pn(b),P=h*On(b),z=c*Pn(x),I=c*On(x);if(d<Vn&&(R=Kn(T,C,z,I,j,P,H,q))){var O=T-R[0],B=C-R[1],F=j-R[0],V=P-R[1],D=1/On(Gn((O*F+B*V)/(Bn(O*O+B*B)*Bn(F*F+V*V)))/2),Z=Bn(R[0]*R[0]+R[1]*R[1]);A=In(k,(c-Z)/(D-1)),L=In(k,(h-Z)/(D+1))}}w>Fn?L>Fn?(m=te(z,I,T,C,h,L,g),y=te(j,P,H,q,h,L,g),a.moveTo(m.cx+m.x01,m.cy+m.y01),L<k?a.arc(m.cx,m.cy,L,jn(m.y01,m.x01),jn(y.y01,y.x01),!g):(a.arc(m.cx,m.cy,L,jn(m.y01,m.x01),jn(m.y11,m.x11),!g),a.arc(0,0,h,jn(m.cy+m.y11,m.cx+m.x11),jn(y.cy+y.y11,y.cx+y.x11),!g),a.arc(y.cx,y.cy,L,jn(y.y11,y.x11),jn(y.y01,y.x01),!g))):(a.moveTo(T,C),a.arc(0,0,h,v,b,!g)):a.moveTo(T,C),c>Fn&&M>Fn?A>Fn?(m=te(H,q,j,P,c,-A,g),y=te(T,C,z,I,c,-A,g),a.lineTo(m.cx+m.x01,m.cy+m.y01),A<k?a.arc(m.cx,m.cy,A,jn(m.y01,m.x01),jn(y.y01,y.x01),!g):(a.arc(m.cx,m.cy,A,jn(m.y01,m.x01),jn(m.y11,m.x11),!g),a.arc(0,0,c,jn(m.cy+m.y11,m.cx+m.x11),jn(y.cy+y.y11,y.cx+y.x11),g),a.arc(y.cx,y.cy,A,jn(y.y11,y.x11),jn(y.y01,y.x01),!g))):a.arc(0,0,c,$,x,g):a.lineTo(H,q)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Vn/2;return[Pn(r)*e,On(r)*e]},l.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:qn(+n),l):t},l.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:qn(+t),l):n},l.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:qn(+t),l):e},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:qn(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:qn(+t),l):i},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:qn(+t),l):o},l.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:qn(+t),l):s},l.context=function(t){return arguments.length?(a=null==t?null:t,l):a},l}()({innerRadius:13,outerRadius:16,startAngle:0,endAngle:2*Math.PI*(t/100)})}]}class re extends X{constructor(t){super(),G(this,t,ee,ne,o,{percent:0})}}function ie(n){let e,i,o,u,h,f,m,b,x;return{c(){e=c("div"),i=c("input"),o=p(),u=c("div"),h=c("div"),f=p(),m=c("div"),g(i,"type","range"),g(i,"class","range svelte-9io54i"),g(i,"name",n[5]),g(i,"min",n[1]),g(i,"max",n[2]),g(i,"step",n[3]),g(h,"class","track-inner svelte-9io54i"),g(u,"class","track svelte-9io54i"),g(m,"class","thumb svelte-9io54i"),g(e,"class","wrap svelte-9io54i"),v(e,"width","number"==typeof n[4]?`${n[4]}px`:n[4],!1),v(e,"--color",n[6],!1)},m(t,r){a(t,e,r),s(e,i),y(i,n[0]),n[12](i),s(e,o),s(e,u),s(u,h),n[15](h),s(e,f),s(e,m),n[16](m),b||(x=[d(i,"change",n[11]),d(i,"input",n[11]),d(i,"input",n[13]),d(i,"select",n[14])],b=!0)},p(t,[n]){32&n&&g(i,"name",t[5]),2&n&&g(i,"min",t[1]),4&n&&g(i,"max",t[2]),8&n&&g(i,"step",t[3]),1&n&&y(i,t[0]),16&n&&v(e,"width","number"==typeof t[4]?`${t[4]}px`:t[4],!1),64&n&&v(e,"--color",t[6],!1)},i:t,o:t,d(t){t&&l(e),n[12](null),n[15](null),n[16](null),b=!1,r(x)}}}function oe(t,n,e){const r=_();let i,o,s,{min:a=0}=n,{max:l=100}=n,{step:u=1}=n,{value:c=50}=n,{width:h=null}=n,{name:f=null}=n,{color:p="teal"}=n;const d=t=>{if(o){let n=(t-a)/(l-a)*100;e(8,o.style.left=`${n}%`,o),e(8,o.style.transform=`translate(-${n}%, -50%)`,o),e(9,s.style.width=`${n}%`,s)}},g=(t,n)=>r(t,{e:n});w((()=>{e(7,i.oninput=t=>d(t.target.value),i),d(c)}));return t.$$set=t=>{"min"in t&&e(1,a=t.min),"max"in t&&e(2,l=t.max),"step"in t&&e(3,u=t.step),"value"in t&&e(0,c=t.value),"width"in t&&e(4,h=t.width),"name"in t&&e(5,f=t.name),"color"in t&&e(6,p=t.color)},t.$$.update=()=>{1&t.$$.dirty&&d(c)},[c,a,l,u,h,f,p,i,o,s,g,function(){c=function(t){return""===t?null:+t}(this.value),e(0,c)},function(t){k[t?"unshift":"push"]((()=>{i=t,e(7,i)}))},t=>g("input",t),t=>g("select",t),function(t){k[t?"unshift":"push"]((()=>{s=t,e(9,s)}))},function(t){k[t?"unshift":"push"]((()=>{o=t,e(8,o)}))}]}class se extends X{constructor(t){super(),G(this,t,oe,ie,o,{min:1,max:2,step:3,value:0,width:4,name:5,color:6})}}function ae(t,n,e){const r=t.slice();return r[6]=n[e],r[8]=e,r}function le(t,n,e){const r=t.slice();return r[6]=n[e],r}function ue(t,n,e){const r=t.slice();return r[6]=n[e],r[8]=e,r}function ce(t){let n;return{c(){n=c("h2"),n.textContent="Sorry. Supply won't balance demand under these conditions. Expect disruption!",g(n,"class","svelte-1sdpy1o")},m(t,e){a(t,n,e)},d(t){t&&l(n)}}}function he(t){let n;return{c(){n=c("h2"),n.textContent="Household energy received as % of normal consumption",g(n,"class","svelte-1sdpy1o")},m(t,e){a(t,n,e)},d(t){t&&l(n)}}}function fe(t){let n,e,r,i=0==t[8]?"&larr; Poorest":t[8]==t[0].received.length-1?"Richest &rarr;":"";return{c(){n=c("td"),e=new b(!1),r=p(),e.a=r,g(n,"class","svelte-1sdpy1o"),v(n,"text-align",0==t[8]?"left":"right",!1)},m(t,o){a(t,n,o),e.m(i,n),s(n,r)},p(t,n){1&n&&i!==(i=0==t[8]?"&larr; Poorest":t[8]==t[0].received.length-1?"Richest &rarr;":"")&&e.p(i)},d(t){t&&l(n)}}}function pe(t){let n,e,r;return e=new re({props:{percent:t[6]}}),{c(){n=c("td"),F(e.$$.fragment),g(n,"class","svelte-1sdpy1o")},m(t,i){a(t,n,i),V(e,n,null),r=!0},p(t,n){const r={};1&n&&(r.percent=t[6]),e.$set(r)},i(t){r||(I(e.$$.fragment,t),r=!0)},o(t){O(e.$$.fragment,t),r=!1},d(t){t&&l(n),D(e)}}}function de(t){let n,e,r,i,o,u,h,d,y,v,b,x,$,M,w,_,N,k=t[6].toLocaleString()+"",A=Math.round(t[0].received[t[8]]*t[0].price*.01).toLocaleString()+"";return{c(){n=c("td"),e=c("table"),r=c("tr"),i=c("td"),i.textContent="Budget:",o=p(),u=c("td"),h=f("£"),d=f(k),y=p(),v=c("tr"),b=c("td"),b.textContent="Spend:",x=p(),$=c("td"),M=c("strong"),w=f("£"),_=f(A),N=p(),g(i,"class","svelte-1sdpy1o"),g(u,"class","svelte-1sdpy1o"),g(b,"class","svelte-1sdpy1o"),g($,"class","svelte-1sdpy1o"),g(e,"class","data svelte-1sdpy1o"),g(n,"class","svelte-1sdpy1o")},m(t,l){a(t,n,l),s(n,e),s(e,r),s(r,i),s(r,o),s(r,u),s(u,h),s(u,d),s(e,y),s(e,v),s(v,b),s(v,x),s(v,$),s($,M),s(M,w),s(M,_),s(n,N)},p(t,n){1&n&&A!==(A=Math.round(t[0].received[t[8]]*t[0].price*.01).toLocaleString()+"")&&m(_,A)},d(t){t&&l(n)}}}function ge(t){let n,e,i,o,h,d,y,v,b,x,$,M,w,_,N,A,L,E,S,T,H,q,R,j,P,Z,G,X,Y,Q,U,W,J,K,tt,nt,et,rt,it,ot,st,at,lt,ut,ct,ht,ft,pt,dt,gt,mt,yt,vt,bt,xt,$t,Mt,wt,_t,Nt,kt,At,Lt,Et,St,Tt,Ct,Ht,qt,Rt,jt,Pt,zt,It,Ot,Bt,Ft,Vt,Dt,Zt=t[0].supply+"",Gt=t[0].price.toLocaleString()+"",Xt=t[0].ration+"",Yt=null!=t[0].gross?`<strong>£${Math.round(t[0].gross).toLocaleString()}</strong>`:"N/A",Qt=null!=t[0].cost?`<strong>£${Math.round(t[0].cost).toLocaleString()}</strong>`:"N/A",Ut=null!=t[0].profit?`<strong>£${Math.round(t[0].profit).toLocaleString()}</strong> (<strong>${Math.round(t[0].profit/t[0].gross*100)}%</strong> of gross income)`:"N/A",Wt=null!=t[0].surplus?`<strong>${Math.round(t[0].surplus)}%</strong> of available supply`:"N/A";function Jt(n){t[3](n)}let Kt={name:"supply",min:0,max:100,step:1};function tn(n){t[4](n)}void 0!==t[0].supply&&(Kt.value=t[0].supply),S=new se({props:Kt}),k.push((()=>B(S,"value",Jt))),S.$on("input",t[2]);let nn={name:"price",min:800,max:5e3,step:10};function en(n){t[5](n)}void 0!==t[0].price&&(nn.value=t[0].price),U=new se({props:nn}),k.push((()=>B(U,"value",tn))),U.$on("input",t[2]);let rn={name:"ration",min:10,max:100,step:1};function on(t,n){return 1&n&&(ut=null),null==ut&&(ut=!(!Array.isArray(t[0].received)||null==t[0].gross||null==t[0].cost||null==t[0].profit||null==t[0].surplus)),ut?he:ce}void 0!==t[0].ration&&(rn.value=t[0].ration),ot=new se({props:rn}),k.push((()=>B(ot,"value",en))),ot.$on("input",t[2]);let sn=on(t,-1),an=sn(t),ln=t[0].received,un=[];for(let n=0;n<ln.length;n+=1)un[n]=fe(ue(t,ln,n));let cn=t[0].received,hn=[];for(let n=0;n<cn.length;n+=1)hn[n]=pe(le(t,cn,n));const fn=t=>O(hn[t],1,1,(()=>{hn[t]=null}));let pn=t[1],dn=[];for(let n=0;n<pn.length;n+=1)dn[n]=de(ae(t,pn,n));return{c(){n=c("main"),e=c("h1"),e.textContent="Energy market calculator",i=p(),o=c("p"),o.textContent="This tool is designed to illustrate a highly simplified energy market, and what happens when supply isn't capable of meeting demand. It is based on a single energy supplier*, supplying five households, each with a different income level, with annual budgets for energy ranging from £1,000 to £5,000.",h=p(),d=c("p"),d.textContent="When supply is below 100% of the normal consumption level, you have a choice to balance supply and demand either by: (1) increasing the prices until some households are forced to use less; (2) rationing the supply to all households; or (3) through a combination of both measures.",y=p(),v=c("p"),v.innerHTML='<small class="svelte-1sdpy1o">*The &quot;energy supplier&quot; represents the extraction, generation and transmission of all types of energy supplied to homes.</small>',b=p(),x=c("section"),$=c("h2"),$.innerHTML='Select your market conditions <span class="svelte-1sdpy1o">Values are relative to normal annual consumption (demand) and price levels</span>',M=p(),w=c("label"),_=f("Supply: "),N=c("strong"),A=f(Zt),L=f("%"),E=f(" of normal consumption\n\t\t\t"),F(S.$$.fragment),H=p(),q=c("label"),R=f("Energy price: "),j=c("strong"),P=f("£"),Z=f(Gt),G=c("br"),X=p(),Y=c("small"),Y.textContent="(Note: Cost to the supplier to meet normal consumption is assumed to be fixed at £800 per household)",Q=p(),F(U.$$.fragment),J=p(),K=c("label"),tt=f("Ration: "),nt=c("strong"),et=f(Xt),rt=f("%"),it=f(" of normal consumption\n\t\t\t"),F(ot.$$.fragment),at=p(),lt=c("section"),an.c(),ct=p(),ht=c("div"),ft=c("table"),pt=c("tr");for(let t=0;t<un.length;t+=1)un[t].c();dt=p(),gt=c("tr");for(let t=0;t<hn.length;t+=1)hn[t].c();mt=p(),yt=c("tr");for(let t=0;t<dn.length;t+=1)dn[t].c();vt=p(),bt=c("section"),xt=c("h2"),xt.textContent="Energy supplier income, costs and profits",$t=p(),Mt=c("table"),wt=c("tr"),_t=c("td"),_t.textContent="Gross income:",Nt=p(),kt=c("td"),At=p(),Lt=c("tr"),Et=c("td"),Et.textContent="Costs:",St=p(),Tt=c("td"),Ct=p(),Ht=c("tr"),qt=c("td"),qt.textContent="Profit:",Rt=p(),jt=c("td"),Pt=p(),zt=c("tr"),It=c("td"),It.textContent="Surplus:",Ot=p(),Bt=c("td"),Ft=p(),Vt=c("p"),Vt.innerHTML='This calculator was coded by <a href="https://twitter.com/bothness" target="_blank">Ahmad Barclay</a>. You can find the <a href="https://github.com/bothness/energy-calc/" target="_blank">source code here</a>.',g($,"class","svelte-1sdpy1o"),g(w,"class","svelte-1sdpy1o"),g(Y,"class","svelte-1sdpy1o"),g(q,"class","svelte-1sdpy1o"),g(K,"class","svelte-1sdpy1o"),g(x,"class","svelte-1sdpy1o"),g(ft,"class","svelte-1sdpy1o"),g(ht,"class","table-container svelte-1sdpy1o"),g(lt,"class","svelte-1sdpy1o"),g(xt,"class","svelte-1sdpy1o"),g(_t,"class","svelte-1sdpy1o"),g(kt,"class","svelte-1sdpy1o"),g(Et,"class","svelte-1sdpy1o"),g(Tt,"class","svelte-1sdpy1o"),g(qt,"class","svelte-1sdpy1o"),g(jt,"class","svelte-1sdpy1o"),g(It,"class","svelte-1sdpy1o"),g(Bt,"class","svelte-1sdpy1o"),g(Mt,"class","data svelte-1sdpy1o"),g(bt,"class","svelte-1sdpy1o"),g(n,"class","svelte-1sdpy1o")},m(t,r){a(t,n,r),s(n,e),s(n,i),s(n,o),s(n,h),s(n,d),s(n,y),s(n,v),s(n,b),s(n,x),s(x,$),s(x,M),s(x,w),s(w,_),s(w,N),s(N,A),s(N,L),s(w,E),V(S,w,null),s(x,H),s(x,q),s(q,R),s(q,j),s(j,P),s(j,Z),s(q,G),s(q,X),s(q,Y),s(q,Q),V(U,q,null),s(x,J),s(x,K),s(K,tt),s(K,nt),s(nt,et),s(nt,rt),s(K,it),V(ot,K,null),s(n,at),s(n,lt),an.m(lt,null),s(lt,ct),s(lt,ht),s(ht,ft),s(ft,pt);for(let t=0;t<un.length;t+=1)un[t].m(pt,null);s(ft,dt),s(ft,gt);for(let t=0;t<hn.length;t+=1)hn[t].m(gt,null);s(ft,mt),s(ft,yt);for(let t=0;t<dn.length;t+=1)dn[t].m(yt,null);s(n,vt),s(n,bt),s(bt,xt),s(bt,$t),s(bt,Mt),s(Mt,wt),s(wt,_t),s(wt,Nt),s(wt,kt),kt.innerHTML=Yt,s(Mt,At),s(Mt,Lt),s(Lt,Et),s(Lt,St),s(Lt,Tt),Tt.innerHTML=Qt,s(Mt,Ct),s(Mt,Ht),s(Ht,qt),s(Ht,Rt),s(Ht,jt),jt.innerHTML=Ut,s(Mt,Pt),s(Mt,zt),s(zt,It),s(zt,Ot),s(zt,Bt),Bt.innerHTML=Wt,s(n,Ft),s(n,Vt),Dt=!0},p(t,[n]){(!Dt||1&n)&&Zt!==(Zt=t[0].supply+"")&&m(A,Zt);const e={};!T&&1&n&&(T=!0,e.value=t[0].supply,C((()=>T=!1))),S.$set(e),(!Dt||1&n)&&Gt!==(Gt=t[0].price.toLocaleString()+"")&&m(Z,Gt);const i={};!W&&1&n&&(W=!0,i.value=t[0].price,C((()=>W=!1))),U.$set(i),(!Dt||1&n)&&Xt!==(Xt=t[0].ration+"")&&m(et,Xt);const o={};if(!st&&1&n&&(st=!0,o.value=t[0].ration,C((()=>st=!1))),ot.$set(o),sn!==(sn=on(t,n))&&(an.d(1),an=sn(t),an&&(an.c(),an.m(lt,ct))),1&n){let e;for(ln=t[0].received,e=0;e<ln.length;e+=1){const r=ue(t,ln,e);un[e]?un[e].p(r,n):(un[e]=fe(r),un[e].c(),un[e].m(pt,null))}for(;e<un.length;e+=1)un[e].d(1);un.length=ln.length}if(1&n){let e;for(cn=t[0].received,e=0;e<cn.length;e+=1){const r=le(t,cn,e);hn[e]?(hn[e].p(r,n),I(hn[e],1)):(hn[e]=pe(r),hn[e].c(),I(hn[e],1),hn[e].m(gt,null))}for(z={r:0,c:[],p:z},e=cn.length;e<hn.length;e+=1)fn(e);z.r||r(z.c),z=z.p}if(3&n){let e;for(pn=t[1],e=0;e<pn.length;e+=1){const r=ae(t,pn,e);dn[e]?dn[e].p(r,n):(dn[e]=de(r),dn[e].c(),dn[e].m(yt,null))}for(;e<dn.length;e+=1)dn[e].d(1);dn.length=pn.length}(!Dt||1&n)&&Yt!==(Yt=null!=t[0].gross?`<strong>£${Math.round(t[0].gross).toLocaleString()}</strong>`:"N/A")&&(kt.innerHTML=Yt),(!Dt||1&n)&&Qt!==(Qt=null!=t[0].cost?`<strong>£${Math.round(t[0].cost).toLocaleString()}</strong>`:"N/A")&&(Tt.innerHTML=Qt),(!Dt||1&n)&&Ut!==(Ut=null!=t[0].profit?`<strong>£${Math.round(t[0].profit).toLocaleString()}</strong> (<strong>${Math.round(t[0].profit/t[0].gross*100)}%</strong> of gross income)`:"N/A")&&(jt.innerHTML=Ut),(!Dt||1&n)&&Wt!==(Wt=null!=t[0].surplus?`<strong>${Math.round(t[0].surplus)}%</strong> of available supply`:"N/A")&&(Bt.innerHTML=Wt)},i(t){if(!Dt){I(S.$$.fragment,t),I(U.$$.fragment,t),I(ot.$$.fragment,t);for(let t=0;t<cn.length;t+=1)I(hn[t]);Dt=!0}},o(t){O(S.$$.fragment,t),O(U.$$.fragment,t),O(ot.$$.fragment,t),hn=hn.filter(Boolean);for(let t=0;t<hn.length;t+=1)O(hn[t]);Dt=!1},d(t){t&&l(n),D(S),D(U),D(ot),an.d(),u(un,t),u(hn,t),u(dn,t)}}}function me(t,n,e){let r=[1e3,2e3,3e3,4e3,5e3],i={supply:80,price:3e3,ration:100,received:[null,null,null,null,null],gross:null,cost:null,profit:null,surplus:null};function o(){let t=i.supply/100*500,n=0,o=[];r.forEach((t=>{let e;e=i.price*(i.ration/100)>t?t/i.price*100:i.ration,o.push(e),n+=e})),n>t?(e(0,i.received=[null,null,null,null,null],i),e(0,i.gross=null,i),e(0,i.cost=null,i),e(0,i.profit=null,i),e(0,i.surplus=null,i)):(e(0,i.received=o,i),e(0,i.gross=n/100*i.price,i),e(0,i.cost=n/100*800,i),e(0,i.profit=i.gross-i.cost,i),e(0,i.surplus=(t-n)/5,i)),console.log(o)}return w(o),[i,r,o,function(n){t.$$.not_equal(i.supply,n)&&(i.supply=n,e(0,i))},function(n){t.$$.not_equal(i.price,n)&&(i.price=n,e(0,i))},function(n){t.$$.not_equal(i.ration,n)&&(i.ration=n,e(0,i))}]}return new class extends X{constructor(t){super(),G(this,t,me,ge,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
